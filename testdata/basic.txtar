-- in.cue --
node1: string
node2: string | *int
node3: *"foo" | "bar" | "baz"
node4: node3 | {
    fourfield: int32
}
node5: {
	inner: string
	n3: node3
}

n1: node3
n2: node2 | node3
n3: node2 | node3 | *"bar"
n4: node1 | node4 | node3
listlit: [("foo" | "bar" | "boink"), ...("foo" | *"bar" | "baz")]
lst: [...node3] | *listlit | node5

-- out/exprtree/node1 --
node1: string

<string>


-- out/exprtree/node2 --
node2: string | *int

[*]  <int>
├── <int>
├── <string>
└── <int>


-- out/exprtree/node3 --
node3: *"foo" | "bar" | "baz"

[*]  <string>
├── *"foo" <string>
├── "foo" <string>
├── "bar" <string>
└── "baz" <string>


-- out/exprtree/node4 --
node4: node3 | {
	fourfield: int32
}

[*]  <string>
├── [|]  *"foo" <string>
│   ├── {...} <struct>
│   └── [ref]  node3 <string>
│       └── [*]  <string>
│           ├── *"foo" <string>
│           ├── "foo" <string>
│           ├── "bar" <string>
│           └── "baz" <string>
├── {...} <struct>
└── [ref]  node3 <string>
    └── [*]  <string>
        ├── *"foo" <string>
        ├── "foo" <string>
        ├── "bar" <string>
        └── "baz" <string>


-- out/exprtree/node5 --
node5: {
	inner: string
	n3:    node3
}

{...} <struct>


-- out/exprtree/n1 --
n1: node3

[ref]  node3 <string>
└── [*]  <string>
    ├── *"foo" <string>
    ├── "foo" <string>
    ├── "bar" <string>
    └── "baz" <string>


-- out/exprtree/n2 --
n2: node2 | node3

[*]  <(int|string)>
├── [|]  <(int|string)>
│   ├── [ref]  node2 <(int|string)>
│   │   └── [*]  <int>
│   │       ├── <int>
│   │       ├── <string>
│   │       └── <int>
│   └── [ref]  node3 <string>
│       └── [*]  <string>
│           ├── *"foo" <string>
│           ├── "foo" <string>
│           ├── "bar" <string>
│           └── "baz" <string>
├── [ref]  node2 <(int|string)>
│   └── [*]  <int>
│       ├── <int>
│       ├── <string>
│       └── <int>
└── [ref]  node3 <string>
    └── [*]  <string>
        ├── *"foo" <string>
        ├── "foo" <string>
        ├── "bar" <string>
        └── "baz" <string>


-- out/exprtree/n3 --
n3: node2 | node3 | *"bar"

[*]  <string>
├── *"bar" <string>
├── "bar" <string>
├── [ref]  node2 <(int|string)>
│   └── [*]  <int>
│       ├── <int>
│       ├── <string>
│       └── <int>
└── [ref]  node3 <string>
    └── [*]  <string>
        ├── *"foo" <string>
        ├── "foo" <string>
        ├── "bar" <string>
        └── "baz" <string>


-- out/exprtree/n4 --
n4: node1 | node4 | node3

[*]  <string>
├── [|]  *"foo" <string>
│   ├── [ref]  node1 <string>
│   │   └── <string>
│   ├── [ref]  node4 <(string|struct)>
│   │   └── [*]  <string>
│   │       ├── [|]  *"foo" <string>
│   │       │   ├── {...} <struct>
│   │       │   └── [ref]  node3 <string>
│   │       │       └── [*]  <string>
│   │       │           ├── *"foo" <string>
│   │       │           ├── "foo" <string>
│   │       │           ├── "bar" <string>
│   │       │           └── "baz" <string>
│   │       ├── {...} <struct>
│   │       └── [ref]  node3 <string>
│   │           └── [*]  <string>
│   │               ├── *"foo" <string>
│   │               ├── "foo" <string>
│   │               ├── "bar" <string>
│   │               └── "baz" <string>
│   └── [ref]  node3 <string>
│       └── [*]  <string>
│           ├── *"foo" <string>
│           ├── "foo" <string>
│           ├── "bar" <string>
│           └── "baz" <string>
├── [ref]  node1 <string>
│   └── <string>
├── [ref]  node4 <(string|struct)>
│   └── [*]  <string>
│       ├── [|]  *"foo" <string>
│       │   ├── {...} <struct>
│       │   └── [ref]  node3 <string>
│       │       └── [*]  <string>
│       │           ├── *"foo" <string>
│       │           ├── "foo" <string>
│       │           ├── "bar" <string>
│       │           └── "baz" <string>
│       ├── {...} <struct>
│       └── [ref]  node3 <string>
│           └── [*]  <string>
│               ├── *"foo" <string>
│               ├── "foo" <string>
│               ├── "bar" <string>
│               └── "baz" <string>
└── [ref]  node3 <string>
    └── [*]  <string>
        ├── *"foo" <string>
        ├── "foo" <string>
        ├── "bar" <string>
        └── "baz" <string>


-- out/exprtree/listlit --
listlit: [("foo" | "bar" | "boink"), ...("foo" | *"bar" | "baz")]

[>=1] <list<string>>


-- out/exprtree/lst --
lst: [...node3] | *listlit | node5

[*]  <list>
├── [ref]  *listlit <list<string>>
│   ├── [>=1] <list<string>>
│   ├── {...} <struct>
│   └── "listlit" <string>
├── [>=0] <list<string>>
├── [ref]  listlit <list<string>>
│   ├── [>=1] <list<string>>
│   ├── {...} <struct>
│   └── "listlit" <string>
└── [ref]  node5 <struct>
    ├── {...} <struct>
    ├── {...} <struct>
    └── "node5" <string>


